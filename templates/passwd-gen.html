{% extends 'base.html' %}
{% load static %}
{% block style_links %}
<link rel="stylesheet" href="{% static 'styles/passwd-gen-styles.css' %}">
{% endblock %}
{% block main_content %}
<header class="self-header">
    <h1>Gerador de senhas</h1>
</header>
<img src="{% static 'images/loading-load.gif' %}" alt="Loading Gif" id="loader-password-generator">
<div class="password-generator-details">
{% if ERROR %}
<section class="error-message">
    <p>{{ MESSAGE }}</p>
    <button>Ok</button>
</section>
{% endif %}
{% if not DATA_SENDED %}
<form action="{% url 'gen_passwd' %}" method="post" target="_self">
    {% csrf_token %}
    <label for="software-id">Site / Software</label>
    <input type="text" name="software-name-input" id="software-id" required maxlength="40">
    <label for="email-id">Email</label>
    <input type="email" name="email-input" id="email-id">
    <label for="user-name-id">Usuário</label>
    <input type="text" name="user-name-input" id="user-name-id">
    <label for="char-length-id">Quantidade de caracteres</label>
    <input type="number" name="char-length-input" id="char-length-id" required>
    <section class="check-options">
        <input type="checkbox" name="upper-letters-checkbox" id="upper-letters-id" checked>
        <label for="upper-letters-id">Incluir maiúsculas</label>
    </section>
    <section class="check-options">
        <input type="checkbox" name="lower-letters-checkbox" id="lower-letters-id" checked>
        <label for="lower-letters-id">Incluir minúsculas</label>
    </section>
    <section class="check-options">
        <input type="checkbox" name="numbers-checkbox" id="numbers-id" checked>
        <label for="numbers-id">Incluir números / dígitos</label>
    </section>
    <label for="account-description-id" class="last-form-label">Descrição da conta</label>
    <textarea name="account-description-textbox" id="account-description-id" cols="30" rows="20" placeholder="Descreva o objetivo da sua conta neste software / site" maxlength="300"></textarea>
    <button type="submit" class="system-btn">Gerar senha</button>
</form>
{% else %}
<form action="{% url 'save_account_datas' %}" method="post">
    {% csrf_token %}
    <label for="software-id">Site / Software</label>
    <input type="text" name="software-name-input" id="software-id" value="{{ PROGRAM_NAME }}" readonly>
    {% if EMAIL != '' %}
    <label for="email-id">Email</label>
    <input type="email" name="email-input" id="email-id" value="{{ EMAIL }}" readonly>
    {% endif %}
    {% if USER_NAME != '' %}
    <label for="user-name-id">Usuário</label>
    <input type="text" name="user-name-input" id="user-name-id" value="{{ USER_NAME }}" readonly>
    {% endif %}
    {% if DESCRIPTION != '' %}
    <label for="account-description-id">Descrição da conta</label>
    <textarea name="account-description-textbox" id="account-description-id" readonly>{{ DESCRIPTION }}</textarea>
    {% endif %}
    <label for="generated-passwd-id">Senha gerada</label>
    <input type="text" name="generated-passwd-input" id="generated-passwd-id" value="{{ PASSWORD }}" readonly>
    <button type="submit" id="save-account-datas-btn" class="system-btn">Salvar</button>
</form>
<button id="regenerate-passwd-btn" class="system-btn">Regenerar</button>
<button id="cancel-submit-btn" class="system-btn">Cancelar</button>
{% endif %}
</div>
{% endblock %}
<script src="{% static 'js/passwd-gen.js' %}"></script>
